(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{429:function(e,t,n){},430:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n(38),r=n.n(s),i=n(30),o=n(45),u=n(6),l=n(2),j={isAuth:localStorage.getItem("isAuth")||sessionStorage.getItem("isAuth")||!1,accessToken:localStorage.getItem("accessToken")||sessionStorage.getItem("accessToken")||null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")):null},d=Object(a.createContext)(),b=function(e){var t=e.children,n=Object(a.useReducer)((function(e,t){switch(t.type){case"login":return{isAuth:!0,accessToken:t.payload.accessToken,user:t.payload.user};case"logout":return localStorage.clear(),sessionStorage.clear(),{isAuth:!1,accessToken:null,user:{}};default:return Object(l.a)({},j)}}),j),s=Object(u.a)(n,2),r=s[0],i=s[1];return Object(c.jsx)(d.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{dispatch:i}),children:t})},O=d,h=n(9),m=n.n(h),p=n(19),x=n(434),f=n(133),g=n(443),v=n(439),y=n(113),w=n(55),k=n(440),I=function(e){var t=Object(o.g)();return Object(c.jsx)(k.a,Object(l.a)({onBack:function(){return t.goBack()}},e))},C=n(230),S=function(e){var t=e.optionParams,n=void 0===t?{}:t,c=Object(a.useContext)(O),s=c.accessToken,r=c.dispatch,i=Object(C.b)("https://api.nkh1798.info",Object(l.a)(Object(l.a)({},n),{},{cachePolicy:"no-cache",interceptors:{request:function(e){var t=e.options;return Object(l.a)(Object(l.a)({},t),{},{headers:Object(l.a)(Object(l.a)({},t.headers),{},{Authorization:"Bearer ".concat(s)})})},response:function(e){var t=e.response;if(!s||401!==t.status)return t;r({type:"logout"})}}}));return{get:i.get,post:i.post,patch:i.patch,delete:i.del,loading:i.loading,error:i.error,response:i.data}},q=n(32),T=n(33);function M(){var e=Object(q.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: #777;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .ant-page-header {\n    padding-top: 0;\n  }\n\n  & > div {\n    width: 400px;\n    background-color: #fff;\n    padding: 24px;\n    border-radius: 8px;\n\n    .sign-in-title {\n      .ant-page-header-heading {\n        justify-content: center;\n      }\n    }\n\n    .ant-alert {\n      margin-bottom: 16px;\n    }\n\n    .ant-form-item:last-child {\n      margin-bottom: 0 !important;\n      text-align: center;\n    }\n  }\n\n  .button-area {\n    .ant-form-item-control-input-content {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n    }\n  }\n"]);return M=function(){return e},e}var F=T.a.div(M()),_=function(){var e=Object(a.useContext)(O).dispatch,t=S({}),n=t.post,s=t.loading,r=x.a.useForm(),o=Object(u.a)(r,1)[0],l=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(c){var a,s,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/authentication",{username:c.username,password:c.password,strategy:"local"});case 2:if(!(a=t.sent).code){t.next=6;break}return o.setFieldsValue({errorMessage:a.message}),t.abrupt("return");case 6:s=c.remember?localStorage:sessionStorage,r=a.accessToken,i=a.user,o.setFieldsValue({successMessage:"Login successfully"}),s.setItem("accessToken",r),s.setItem("user",JSON.stringify(i)),s.setItem("isAuth",!0),setTimeout((function(){e({type:"login",payload:{user:i,accessToken:r}})}),300);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,o,n]);return Object(c.jsx)(f.a,{spinning:s,children:Object(c.jsx)(F,{children:Object(c.jsxs)("div",{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{className:"sign-in-title",title:"SIGN IN",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsxs)(x.a,{form:o,name:"basic",layout:"vertical",initialValues:{errorMessage:null},onFinish:l,onChange:function(){return o.setFieldsValue({errorMessage:null})},children:[Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.errorMessage!==t.errorMessage},children:function(e){var t=e.getFieldValue;return t("errorMessage")?Object(c.jsx)(g.a,{message:t("errorMessage"),type:"error",showIcon:!0}):null}}),Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.successMessage!==t.successMessage},children:function(e){var t=e.getFieldValue;return t("successMessage")?Object(c.jsx)(g.a,{message:t("successMessage"),type:"success",showIcon:!0}):null}}),Object(c.jsx)(x.a.Item,{label:"User name",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(c.jsx)(v.a.Password,{})}),Object(c.jsx)(x.a.Item,{name:"remember",valuePropName:"checked",children:Object(c.jsx)(y.a,{children:"Remember me"})}),Object(c.jsxs)(x.a.Item,{className:"button-area",children:[Object(c.jsx)(i.b,{to:"/sign_up",children:Object(c.jsx)(w.a,{type:"link",htmlType:"button",children:"Go to sign up"})}),Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Sign me in"})]})]})}),[o,l])]})})})},N=n(147),P=n(435);function R(){var e=Object(q.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: #777;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  .ant-page-header {\n    padding-top: 0;\n  }\n\n  & > div {\n    width: 400px;\n    background-color: #fff;\n    padding: 24px;\n    border-radius: 8px;\n\n    .sign-in-title {\n      .ant-page-header-heading {\n        justify-content: center;\n      }\n    }\n\n    .ant-alert {\n      margin-bottom: 16px;\n    }\n\n    .ant-form-item:last-child {\n      margin-bottom: 0 !important;\n      text-align: center;\n    }\n  }\n\n  .button-area {\n    .ant-form-item-control-input-content {\n      display: flex;\n      align-items: center;\n      justify-content: space-around;\n    }\n  }\n"]);return R=function(){return e},e}var U=T.a.div(R()),D=function(){var e=Object(a.useContext)(O).dispatch,t=S({}),n=t.post,s=t.loading,r=x.a.useForm(),o=Object(u.a)(r,1)[0],l=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(c){var a,s,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/users",c);case 2:if(!(a=t.sent).code){t.next=6;break}return o.setFieldsValue({errorMessage:a.message}),t.abrupt("return");case 6:return t.next=8,n("/authentication",{username:c.username,password:c.password,strategy:"local"});case 8:if(!(s=t.sent).code){t.next=12;break}return o.setFieldsValue({errorMessage:s.message}),t.abrupt("return");case 12:r=s.accessToken,i=s.user,o.setFieldsValue({successMessage:"Login successfully"}),sessionStorage.setItem("accessToken",r),sessionStorage.setItem("user",JSON.stringify(i)),sessionStorage.setItem("isAuth",!0),setTimeout((function(){e({type:"login",payload:{user:i,accessToken:r}})}),300);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,o,n]);return Object(c.jsx)(f.a,{spinning:s,children:Object(c.jsx)(U,{children:Object(c.jsxs)("div",{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{className:"sign-in-title",title:"SIGN UP",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsxs)(x.a,{form:o,name:"basic",layout:"vertical",initialValues:{errorMessage:null},onFinish:l,onChange:function(){return o.setFieldsValue({errorMessage:null})},children:[Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.errorMessage!==t.errorMessage},children:function(e){var t=e.getFieldValue;return t("errorMessage")?Object(c.jsx)(g.a,{message:t("errorMessage"),type:"error",showIcon:!0}):null}}),Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.successMessage!==t.successMessage},children:function(e){var t=e.getFieldValue;return t("successMessage")?Object(c.jsx)(g.a,{message:t("successMessage"),type:"success",showIcon:!0}):null}}),Object(c.jsx)(x.a.Item,{label:"User name",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(c.jsx)(v.a.Password,{})}),Object(c.jsx)(x.a.Item,{label:"Gender",name:"gender",children:Object(c.jsxs)(N.a.Group,{children:[Object(c.jsx)(N.a,{value:0,children:"Male"}),Object(c.jsx)(N.a,{value:1,children:"Female"}),Object(c.jsx)(N.a,{value:2,children:"Other"})]})}),Object(c.jsx)(x.a.Item,{label:"Birthday",name:"dob",children:Object(c.jsx)(P.a,{placeholder:"",style:{width:"100%"},format:"DD/MM/YYYY"})}),Object(c.jsx)(x.a.Item,{label:"Phone",name:"phone",children:Object(c.jsx)(v.a,{})}),Object(c.jsxs)(x.a.Item,{className:"button-area",children:[Object(c.jsx)(i.b,{to:"/sign_in",children:Object(c.jsx)(w.a,{type:"link",htmlType:"button",children:"Go to sign in"})}),Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Sign me up"})]})]})}),[o,l])]})})})},A=n(16),E=function(e){var t=e.component,n=Object(A.a)(e,["component"]),s=Object(a.useContext)(O).isAuth;return Object(c.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return s?Object(c.jsx)(t,Object(l.a)({},e)):Object(c.jsx)(o.a,{to:{pathname:"/sign_in"}})}}))},Y=n(441),V=n(436),L=n(447),B=function(e){return Object(c.jsx)(w.a,Object(l.a)(Object(l.a)({icon:Object(c.jsx)(L.a,{}),type:"ghost",style:{backgroundColor:"#fff3cd",color:"#856404",borderColor:"#ffeeba"}},e),{},{children:"Edit"}))},K=n(448),z=function(e){return Object(c.jsx)(w.a,Object(l.a)(Object(l.a)({type:"primary",danger:!0,icon:Object(c.jsx)(K.a,{})},e),{},{children:"Delete"}))},H=n(449),G=function(e){var t=e.path;return Object(c.jsx)(i.b,{to:t,children:Object(c.jsx)(w.a,{type:"primary",icon:Object(c.jsx)(H.a,{}),children:"New"})})};function J(){var e=Object(q.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px 16px;\n\n  .search-area {\n    width: 35%;\n  }\n\n  .button-area {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    button {\n      margin-left: 8px;\n    }\n  }\n"]);return J=function(){return e},e}var Q=T.a.div(J()),W=v.a.Search,X=function(e){var t=e.selectedIds,n=e.onDelete,s=e.onSearch,r=e.newPath,i=e.searchPlaceHolder,o=e.customButtonArea;return Object(c.jsxs)(Q,{children:[!!o&&o,!o&&Object(c.jsxs)("div",{className:"button-area",children:[Object(c.jsx)(G,{path:r}),Object(c.jsx)(z,{disabled:!t.length,onClick:n})]}),Object(c.jsx)("div",{className:"search-area",children:Object(a.useMemo)((function(){return Object(c.jsx)(W,{onSearch:s,placeholder:i,enterButton:"Search",allowClear:!0})}),[s,i])})]})};function Z(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n\n  .description-column {\n    max-width: 460px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    margin-bottom: 0;\n  }\n"]);return Z=function(){return e},e}var $=T.a.div(Z()),ee=[{title:"Name",dataIndex:"name",key:"name"},{title:"Category",dataIndex:"category",key:"category"},{title:"Price",dataIndex:"price",key:"price"},{title:"Description",dataIndex:"description",key:"description",width:"40%"},{title:"Action",dataIndex:"action",key:"action"}],te=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/courses?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_courses",{selectedIds:k});case 2:Y.a.success({message:"Delete course successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)($,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List course",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{newPath:"/admin/courses/new",searchPlaceHolder:"Search course by name",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:ee,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{category:t.category.name,description:Object(c.jsx)("p",{className:"description-column",children:t.description}),key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/courses/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})},ne=n(79),ce=n(101),ae=n(70),se=n(450);function re(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n  }\n"]);return re=function(){return e},e}var ie=T.a.div(re()),oe=ne.a.Option,ue=v.a.TextArea,le=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,l=void 0===i?{}:i,j=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("/courses",n);case 2:t.sent._id&&(Y.a.success({message:"Create course successfully",placement:"topRight"}),e.replace("/admin/courses"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,s]),d=x.a.useForm(),b=Object(u.a)(d,1)[0];return Object(a.useEffect)((function(){n("/categories")}),[n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(ie,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New course"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:b,onFinish:j,children:[Object(c.jsx)(x.a.Item,{name:"category",label:"Category",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a category",allowClear:!0,children:l.data&&l.data.map((function(e){return Object(c.jsx)(oe,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.Item,{label:"Name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{label:"Price",name:"price",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{label:"Description",name:"description",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ue,{rows:6})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})]})})})}),[b,j,l.data])]})})},je=ne.a.Option,de=v.a.TextArea,be=function(){var e=Object(o.h)().categoryId,t=S({}),n=t.get,s=t.patch,r=t.loading,i=t.response,l=void 0===i?{}:i,j=Object(o.g)(),d=Object(a.useState)([]),b=Object(u.a)(d,2),O=b[0],h=b[1],g=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("/courses/".concat(e),n);case 2:t.sent._id&&(Y.a.success({message:"Update course successfully",placement:"topRight"}),j.push("/admin/courses"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,j,s]),y=x.a.useForm(),k=Object(u.a)(y,1)[0];return Object(a.useEffect)((function(){(function(){var t=Object(p.a)(m.a.mark((function t(){var c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/categories");case 2:if(c=t.sent,h(c.data),!e){t.next=9;break}return t.next=7,n("/courses/".concat(e));case 7:a=t.sent,k.setFieldsValue({name:a.name,category:a.category,description:a.description,price:a.price});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,k,n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(ie,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit course"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:k,onFinish:g,children:[l.code&&Object(c.jsx)("p",{children:"Course not found"}),l._id&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a.Item,{name:"category",label:"Category",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a category",allowClear:!0,children:O.map((function(e){return Object(c.jsx)(je,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.Item,{label:"Name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{label:"Price",name:"price",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{label:"Description",name:"description",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(de,{rows:6})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})})}),[O,k,g,l._id,l.code])]})})};function Oe(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n"]);return Oe=function(){return e},e}var he=T.a.div(Oe()),me=[{title:"Name",dataIndex:"name",key:"name"},{title:"Course",dataIndex:"course",key:"course",render:function(e,t){return t.course.name}},{title:"Is finish",dataIndex:"isFinish",key:"isFinish",render:function(e,t){return t.isFinish?"Finshed":"Not yet"}},{title:"Action",dataIndex:"action",key:"action"}],pe=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/exams?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_exams",{selectedIds:k});case 2:Y.a.success({message:"Delete exam successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)(he,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List exam",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{searchPlaceHolder:"Search exam by name",newPath:"/admin/exams/new",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:me,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/exams/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})},xe=n(21),fe=n(431),ge=n(445);function ve(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n\n    .ant-space {\n      display: flex;\n    }\n\n    .ant-space-align-baseline {\n      align-items: center;\n    }\n  }\n"]);return ve=function(){return e},e}var ye=T.a.div(ve()),we=ne.a.Option,ke=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),j=i[0],d=i[1],b=Object(a.useState)([]),O=Object(u.a)(b,2),h=O[0],g=O[1],y=Object(o.g)(),k=S({}),C=k.get,q=k.post,T=k.loading,M=k.response,F=void 0===M?{data:[]}:M,_=Object(a.useCallback)((function(e){if(e){var t=F.data.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>-1})).map((function(e){return{value:e.title,id:e._id}}));d(t)}else d([])}),[F.data]),N=Object(a.useCallback)((function(e,t){var n=[].concat(Object(xe.a)(h.filter((function(e){return e.id!==t.id}))),[t]);g(n)}),[h]),P=Object(a.useCallback)((function(e){var t=Object(xe.a)(h.filter((function(t){return t.id!==e})));g(t)}),[h]),R=Object(a.useCallback)(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q("/exams",Object(l.a)(Object(l.a)({},t),{},{questions:h.map((function(e){return e.id}))}));case 2:e.sent._id&&(Y.a.success({message:"Create exam successfully",placement:"topRight"}),y.replace("/admin/exams"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,q,h]);return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/courses");case 2:t=e.sent,s(t.data),C("/questions?limit=1000&skip=0");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[C]),Object(c.jsx)(f.a,{spinning:T,children:Object(c.jsxs)(ye,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New exam"})}),[]),Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",onFinish:R,children:[Object(a.useMemo)((function(){return Object(c.jsx)(x.a.Item,{label:"Name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(x.a.Item,{label:"Course",name:"course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:n.map((function(e){return Object(c.jsx)(we,{value:e._id,children:e.name},e._id)}))})})}),[n]),Object(a.useMemo)((function(){return Object(c.jsxs)(x.a.Item,{label:"Questions",children:[Object(c.jsx)(fe.a,{options:j,style:{width:"100%"},onSelect:N,onSearch:_,placeholder:"Autocomplete search question to add",allowClear:!0}),Object(c.jsx)(ge.b,{bordered:!0,dataSource:h,renderItem:function(e){return Object(c.jsx)(ge.b.Item,{actions:[Object(c.jsx)(K.a,{style:{color:"#856404"},onClick:function(){return P(e.id)}})],children:e.value})}})]})}),[P,_,N,h,j]),Object(a.useMemo)((function(){return Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})}),[])]})})})]})})},Ie=ne.a.Option,Ce=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)([]),i=Object(u.a)(r,2),j=i[0],d=i[1],b=Object(a.useState)([]),O=Object(u.a)(b,2),h=O[0],g=O[1],y=Object(a.useState)([]),k=Object(u.a)(y,2),C=k[0],q=k[1],T=S({}),M=T.get,F=T.patch,_=T.loading,N=T.response,P=void 0===N?{}:N,R=Object(o.h)().examId,U=Object(o.g)(),D=x.a.useForm(),A=Object(u.a)(D,1)[0],E=Object(a.useCallback)((function(e){if(e){var t=j.filter((function(t){return t.title.toLowerCase().indexOf(e.toLowerCase())>-1})).map((function(e){return{value:e.title,id:e._id}}));g(t)}}),[j]),V=Object(a.useCallback)((function(e,t){var n=[].concat(Object(xe.a)(C.filter((function(e){return e.id!==t.id}))),[t]);q(n)}),[C]),L=Object(a.useCallback)((function(e){var t=Object(xe.a)(C.filter((function(t){return t.id!==e})));q(t)}),[C]),B=Object(a.useCallback)(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F("/exams/".concat(R),Object(l.a)(Object(l.a)({},t),{},{questions:C.map((function(e){return e.id}))}));case 2:e.sent._id&&(Y.a.success({message:"Update exam successfully",placement:"topRight"}),U.push("/admin/exams"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[R,U,F,C]);return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/courses");case 2:return t=e.sent,s(t.data),e.next=6,M("/questions?limit=1000&skip=0");case 6:if(n=e.sent,d(n.data),R){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,M("/exams/".concat(R));case 12:if((c=e.sent)._id){e.next=15;break}return e.abrupt("return");case 15:A.setFieldsValue({name:c.name,course:c.course}),q(c.questions.map((function(e){return{value:e.title,id:e._id}})));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[R,A,M]),Object(c.jsx)(f.a,{spinning:_,children:Object(c.jsxs)(ye,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit exam"})}),[]),Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:A,onFinish:B,children:[P.code&&Object(c.jsx)("p",{children:"Exam not found"}),Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:P._id&&Object(c.jsx)(x.a.Item,{label:"Name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})})})}),[P._id]),Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:P._id&&Object(c.jsx)(x.a.Item,{label:"Course",name:"course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:n.map((function(e){return Object(c.jsx)(Ie,{value:e._id,children:e.name},e._id)}))})})})}),[n,P._id]),Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:P._id&&Object(c.jsxs)(x.a.Item,{label:"Questions",children:[Object(c.jsx)(fe.a,{options:h,style:{width:"100%"},onSelect:V,onSearch:E,placeholder:"Autocomplete search question to add",onClear:function(){return g([])},allowClear:!0}),Object(c.jsx)(ge.b,{bordered:!0,dataSource:C,renderItem:function(e){return Object(c.jsx)(ge.b.Item,{actions:[Object(c.jsx)(K.a,{style:{color:"#856404"},onClick:function(){return L(e.id)}})],children:e.value})}})]})})}),[L,E,V,C,h,P._id]),Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:P._id&&Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})})}),[P._id])]})})})]})})};function Se(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n"]);return Se=function(){return e},e}var qe=T.a.div(Se()),Te=[{title:"Name",dataIndex:"name",key:"name"},{title:"Course",dataIndex:"course",key:"course",render:function(e,t){return t.course.name}},{title:"Is Finish",dataIndex:"isFinish",key:"isFinish",render:function(e,t){return t.isFinish?"Finished":"Not yet"}},{title:"Action",dataIndex:"action",key:"action"}],Me=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/lessons?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_lessons",{selectedIds:k});case 2:Y.a.success({message:"Delete lesson successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)(qe,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List lesson",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{searchPlaceHolder:"Search lesson by name",newPath:"/admin/lessons/new",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:Te,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/lessons/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})},Fe=n(437),_e=n(451);function Ne(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n\n    .upload-wrapper {\n      .ant-upload,\n      button {\n        width: 100%;\n      }\n    }\n\n    video {\n      object-fit: fill;\n      margin-bottom: 24px;\n    }\n  }\n"]);return Ne=function(){return e},e}var Pe=T.a.div(Ne()),Re=ne.a.Option,Ue=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,l=void 0===i?{}:i,j=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=new FormData).append("name",n.name),c.append("course",n.course),c.append("video",n.video.file),t.next=6,s("/lessons",c);case 6:t.sent._id&&(Y.a.success({message:"Create lesson successfully",placement:"topRight"}),e.replace("/admin/lessons"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,s]),d=x.a.useForm(),b=Object(u.a)(d,1)[0];return Object(a.useEffect)((function(){n("/courses")}),[n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(Pe,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New lesson"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:b,onFinish:j,children:[Object(c.jsx)(x.a.Item,{label:"Lesson name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{name:"course",label:"Course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:l.data&&l.data.map((function(e){return Object(c.jsx)(Re,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.Item,{label:"Video",name:"video",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],valuePropName:"video",children:Object(c.jsx)(Fe.a,{className:"upload-wrapper",beforeUpload:function(){return!1},accept:"video/mp4",multiple:!1,children:Object(c.jsx)(w.a,{icon:Object(c.jsx)(_e.a,{}),children:"Upload video"})})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})]})})})}),[b,j,l.data])]})})},De=ne.a.Option,Ae=function(){var e=Object(o.h)().lessonId,t=S({}),n=t.get,s=t.patch,r=t.loading,i=t.response,l=void 0===i?{}:i,j=Object(o.g)(),d=x.a.useForm(),b=Object(u.a)(d,1)[0],O=Object(a.useState)([]),h=Object(u.a)(O,2),g=h[0],y=h[1],k=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){var c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={name:n.name,course:n.course,isFinish:n.isFinish},"string"!==typeof n.video&&((c=new FormData).append("name",n.name),c.append("course",n.course),c.append("video",n.video.file),c.append("oldVideo",l.video),c.append("isFinish",n.isFinish)),t.next=4,s("/lessons/".concat(e),c);case 4:t.sent._id&&(Y.a.success({message:"Update lesson successfully",placement:"topRight"}),j.replace("/admin/lessons"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[j,e,s,l.video]);return Object(a.useEffect)((function(){(function(){var t=Object(p.a)(m.a.mark((function t(){var c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/courses");case 2:if(c=t.sent,y(c.data),!e){t.next=9;break}return t.next=7,n("/lessons/".concat(e));case 7:a=t.sent,b.setFieldsValue({name:a.name,course:a.course,video:a.video,isFinish:a.isFinish});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,b,n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(Pe,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit lesson"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:b,onFinish:k,children:[l.code&&Object(c.jsx)("p",{children:"Lesson not found"}),l._id&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a.Item,{label:"Lesson name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{name:"course",label:"Course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:g.map((function(e){return Object(c.jsx)(De,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.Item,{label:"Video",name:"video",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],valuePropName:"video",children:Object(c.jsx)(Fe.a,{className:"upload-wrapper",beforeUpload:function(){return!1},accept:"video/mp4",children:Object(c.jsx)(w.a,{icon:Object(c.jsx)(_e.a,{}),children:"Upload video"})})}),l.video&&Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:!1,children:Object(c.jsxs)("video",{controls:!0,width:"100%",height:"300",children:[Object(c.jsx)("source",{src:"".concat("https://api.nkh1798.info").concat(l.video),type:"video/mp4"}),"Your browser does not support the video tag."]})}),Object(c.jsx)(x.a.Item,{name:"isFinish",label:"Is lesson finish",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsxs)(N.a.Group,{children:[Object(c.jsx)(N.a,{value:!0,children:"Yes"}),Object(c.jsx)(N.a,{value:!1,children:"Not Yet"})]})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})})}),[g,b,k,l._id,l.code,l.video])]})})},Ee=n(452),Ye=n(453),Ve=n(234);function Le(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n\n  .note-column {\n    max-width: 460px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    margin-bottom: 0;\n  }\n"]);return Le=function(){return e},e}var Be=T.a.div(Le()),Ke=[{title:"User",dataIndex:"user",key:"user"},{title:"Course",dataIndex:"course",key:"course"},{title:"Status",dataIndex:"status",key:"status"},{title:"Note",dataIndex:"note",key:"note",width:"40%"}],ze=function(){var e=S({}),t=e.get,n=e.post,s=e.loading,r=e.response,i=void 0===r?{data:[],total:0}:r,o=Object(a.useState)(1),j=Object(u.a)(o,2),d=j[0],b=j[1],O=Object(a.useState)([]),h=Object(u.a)(O,2),x=h[0],f=h[1];Object(a.useEffect)((function(){var e="limit=".concat(10*d,"&skip=").concat(10*d-10);t("/requests?".concat(e))}),[t,d]);var g=Object(a.useCallback)(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/process_requests",{selectedIds:x,type:t});case 2:Y.a.success({message:"".concat("approve"===t?"Approve":"Reject"," request successfully"),placement:"topRight"}),f([]),b(1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,x]),v=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/remove_requests",{selectedIds:x});case 2:Y.a.success({message:"Delete request successfully",placement:"topRight"}),f([]),b(1);case 5:case"end":return e.stop()}}),e)}))),[n,x]);return Object(c.jsxs)(Be,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List request",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{selectedIds:x,onDelete:null,searchPlaceHolder:"Search request by user name or course name",customButtonArea:Object(c.jsxs)("div",{className:"button-area",children:[Object(c.jsx)(w.a,{icon:Object(c.jsx)(Ee.a,{style:{color:"#52c41a"}}),disabled:!x.length,type:"ghost",style:{backgroundColor:"#f6ffed",border:"1px solid #b7eb8f"},onClick:function(){return g("approve")},children:"Approve"}),Object(c.jsx)(w.a,{icon:Object(c.jsx)(Ye.a,{style:{color:"#ff4d4f"}}),disabled:!x.length,onClick:function(){return g("reject")},type:"ghost",style:{backgroundColor:"#fff2f0",border:"1px solid #ffccc7"},children:"Reject"}),Object(c.jsx)(z,{disabled:!x.length,onClick:v})]})})}),[v,g,x]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return f(e)},selectedRowKeys:x},columns:Ke,dataSource:i.code?[]:i.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{key:e._id,user:e.user&&e.user.username,course:e.course&&e.course.name,note:Object(c.jsx)("p",{className:"note-column",children:e.note}),status:"waiting"===e.status?Object(c.jsx)(Ve.a,{color:"gold",children:e.status}):"approved"===e.status?Object(c.jsx)(Ve.a,{color:"green",children:e.status}):Object(c.jsx)(Ve.a,{color:"red",children:e.status})})})),pagination:{onChange:function(e){return b(e)},pageSize:10,total:i.total,current:d},loading:s})}),[s,d,i.code,i.data,i.total,x])]})};function He(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n"]);return He=function(){return e},e}var Ge=T.a.div(He()),Je=[{title:"User Name",dataIndex:"username",key:"username"},{title:"Role",dataIndex:"role",key:"role",render:function(e,t){return t.role?"User":"Admin"}},{title:"Birthday",dataIndex:"dob",key:"dob"},{title:"Gender",dataIndex:"gender",key:"gender",render:function(e,t){return 0===t.gender?"Male":1===t.gender?"Female":"Other"}},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Action",dataIndex:"action",key:"action"}],Qe=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/users?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_users",{selectedIds:k});case 2:Y.a.success({message:"Delete user successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)(Ge,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List user",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{searchPlaceHolder:"Search user by name",newPath:"/admin/users/new",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:Je,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/users/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})};function We(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n  }\n"]);return We=function(){return e},e}var Xe=T.a.div(We()),Ze=ne.a.Option,$e=function(){var e=Object(o.g)(),t=S({}),n=t.post,s=t.loading,r=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(c){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(l.a)(Object(l.a)({},c),{},{dob:c.dob.format("DD/MM/YYYY")}),t.next=3,n("/users",a);case 3:t.sent._id&&(Y.a.success({message:"Create user successfully",placement:"topRight"}),e.replace("/admin/users"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,n]),i=x.a.useForm(),j=Object(u.a)(i,1)[0];return Object(c.jsx)(f.a,{spinning:s,children:Object(c.jsxs)(Xe,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New user"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:j,onFinish:r,children:[Object(c.jsx)(x.a.Item,{label:"Name",name:"username",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{label:"Password",name:"password",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a.Password,{})}),Object(c.jsx)(x.a.Item,{label:"Role",name:"role",children:Object(c.jsxs)(ne.a,{defaultValue:1,children:[Object(c.jsx)(Ze,{value:0,children:"Admin"},"0"),Object(c.jsx)(Ze,{value:1,children:"User"},"1")]})}),Object(c.jsx)(x.a.Item,{label:"Gender",name:"gender",children:Object(c.jsxs)(ne.a,{children:[Object(c.jsx)(Ze,{value:0,children:"Male"},"0"),Object(c.jsx)(Ze,{value:1,children:"Female"},"1"),Object(c.jsx)(Ze,{value:2,children:"Other"},"2")]})}),Object(c.jsx)(x.a.Item,{label:"Birthday",name:"dob",children:Object(c.jsx)(P.a,{placeholder:"",style:{width:"100%"},format:"DD/MM/YYYY"})}),Object(c.jsx)(x.a.Item,{label:"Phone",name:"phone",children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})]})})})}),[j,r])]})})},et=n(80),tt=n.n(et),nt=ne.a.Option,ct=function(){var e=Object(o.g)(),t=Object(o.h)().userId,n=S({}),s=n.get,r=n.patch,i=n.loading,j=n.response,d=void 0===j?{}:j,b=Object(a.useCallback)(function(){var n=Object(p.a)(m.a.mark((function n(c){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(l.a)(Object(l.a)({},c),{},{dob:c.dob.format("DD/MM/YYYY")}),n.next=3,r("/users/".concat(t),a);case 3:n.sent._id&&(Y.a.success({message:"Update user successfully",placement:"topRight"}),e.push("/admin/users"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e,r]),O=x.a.useForm(),h=Object(u.a)(O,1)[0];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,s("/users/".concat(t));case 3:n=e.sent,h.setFieldsValue({username:n.username,role:n.role,password:n.password,phone:n.phone||"",dob:n.dob?tt()(n.dob,"DD/MM/YYYY"):"",gender:"null"!==n.gender||"undefined"!==n.gender?n.gender:""});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,h,s]),Object(c.jsx)(f.a,{spinning:i,children:Object(c.jsxs)(Xe,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit user"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:h,onFinish:b,children:[d.code&&Object(c.jsx)("p",{children:"User not found"}),d._id&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a.Item,{label:"Name",name:"username",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{label:"Password",name:"password",children:Object(c.jsx)(v.a.Password,{})}),Object(c.jsx)(x.a.Item,{label:"Role",name:"role",children:Object(c.jsxs)(ne.a,{defaultValue:1,children:[Object(c.jsx)(nt,{value:0,children:"Admin"},"0"),Object(c.jsx)(nt,{value:1,children:"User"},"1")]})}),Object(c.jsx)(x.a.Item,{label:"Gender",name:"gender",children:Object(c.jsxs)(ne.a,{children:[Object(c.jsx)(nt,{value:0,children:"Male"},"0"),Object(c.jsx)(nt,{value:1,children:"Female"},"1"),Object(c.jsx)(nt,{value:2,children:"Other"},"2")]})}),Object(c.jsx)(x.a.Item,{label:"Birthday",name:"dob",children:Object(c.jsx)(P.a,{placeholder:"",style:{width:"100%"},format:"DD/MM/YYYY"})}),Object(c.jsx)(x.a.Item,{label:"Phone",name:"phone",children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})})}),[h,b,d._id,d.code])]})})};function at(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n"]);return at=function(){return e},e}var st=T.a.div(at()),rt=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",dataIndex:"action",key:"action"}],it=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/categories?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_categories",{selectedIds:k});case 2:Y.a.success({message:"Delete category successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)(st,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List category",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{searchPlaceHolder:"Search category by name",newPath:"/admin/categories/new",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:rt,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/categories/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})};function ot(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n  }\n"]);return ot=function(){return e},e}var ut=T.a.div(ot()),lt=function(){var e=Object(o.g)(),t=S({}),n=t.post,s=t.loading,r=t.response,i=void 0===r?{}:r,l=Object(a.useCallback)((function(e){n("/categories",e)}),[n]),j=x.a.useForm(),d=Object(u.a)(j,1)[0];return Object(a.useEffect)((function(){i._id&&(Y.a.success({message:"Create category successfully",placement:"topRight"}),e.replace("/admin/categories"))}),[e,i]),Object(c.jsx)(f.a,{spinning:s,children:Object(c.jsxs)(ut,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New category"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:d,onFinish:l,children:[Object(c.jsx)(x.a.Item,{label:"Category name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})]})})})}),[d,l])]})})},jt=function(){var e=Object(o.g)(),t=Object(o.h)().categoryId,n=S({}),s=n.get,r=n.patch,i=n.loading,l=n.response,j=void 0===l?{}:l,d=Object(a.useCallback)(function(){var n=Object(p.a)(m.a.mark((function n(c){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r("/categories/".concat(t),c);case 2:n.sent._id&&(Y.a.success({message:"Update category successfully",placement:"topRight"}),e.push("/admin/categories"));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e,r]),b=x.a.useForm(),O=Object(u.a)(b,1)[0];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,s("/categories/".concat(t));case 3:n=e.sent,O.setFieldsValue({name:n.name});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,O,s]),Object(c.jsx)(f.a,{spinning:i,children:Object(c.jsxs)(ut,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit category"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:O,onFinish:d,children:[j.code&&Object(c.jsx)("p",{children:"Category not found"}),j._id&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a.Item,{label:"Category name",name:"name",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})})}),[O,d,j._id,j.code])]})})};function dt(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n  }\n"]);return dt=function(){return e},e}var bt=T.a.div(dt()),Ot=[{title:"Title",dataIndex:"title",key:"title"},{title:"Course",dataIndex:"course",key:"course",render:function(e,t){return t.course.name}},{title:"Action",dataIndex:"action",key:"action"}],ht=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{data:[],total:0}:i,d=Object(a.useState)(1),b=Object(u.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(""),f=Object(u.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)([]),w=Object(u.a)(y,2),k=w[0],C=w[1];Object(a.useEffect)((function(){var e="limit=".concat(10*O,"&skip=").concat(10*O-10),t=g?"&search=".concat(g):"";n("/questions?".concat(e).concat(t))}),[n,O,g]);var q=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/remove_questions",{selectedIds:k});case 2:Y.a.success({message:"Delete question successfully",placement:"topRight"}),C([]),h(1);case 5:case"end":return e.stop()}}),e)}))),[s,k]);return Object(c.jsxs)(bt,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List question",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{searchPlaceHolder:"Search question by title",newPath:"/admin/questions/new",selectedIds:k,onDelete:q,onSearch:function(e){return v(e)}})}),[q,k]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return C(e)},selectedRowKeys:k},columns:Ot,dataSource:j.code?[]:j.data.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{key:t._id,action:Object(c.jsx)(B,{onClick:function(){return e.push("/admin/questions/".concat(t._id,"/edit"))}})})})),pagination:{onChange:function(e){return h(e)},pageSize:10,total:j.total,current:O},loading:r})}),[e,r,O,j.code,j.data,j.total,k])]})},mt=n(446),pt=n(454);function xt(){var e=Object(q.a)(["\n  form {\n    padding: 24px;\n\n    .ant-space {\n      display: flex;\n    }\n\n    .ant-space-align-baseline {\n      align-items: center;\n    }\n  }\n"]);return xt=function(){return e},e}var ft=T.a.div(xt()),gt=ne.a.Option,vt=function(){var e=Object(o.g)(),t=S({}),n=t.get,s=t.post,r=t.loading,i=t.response,j=void 0===i?{}:i,d=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("/questions",n);case 2:t.sent._id&&(Y.a.success({message:"Create question successfully",placement:"topRight"}),e.replace("/admin/questions"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,s]),b=x.a.useForm(),O=Object(u.a)(b,1)[0];return Object(a.useEffect)((function(){n("/courses")}),[n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(ft,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"New question"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:O,onFinish:d,children:[Object(c.jsx)(x.a.Item,{label:"Title",name:"title",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{name:"course",label:"Course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:j.data&&j.data.map((function(e){return Object(c.jsx)(gt,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.List,{name:"answers",children:function(e,t){var n=t.add,a=t.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsxs)(mt.b,{align:"baseline",children:[Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.area!==t.area||e.answers!==t.answers},children:function(){return Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Content",name:[e.name,"content"],fieldKey:[e.fieldKey,"content"],rules:[{required:!0,message:"Missing content"}],children:Object(c.jsx)(v.a,{placeholder:"For Ex: A. or 1."})}))}}),Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Value",name:[e.name,"value"],fieldKey:[e.fieldKey,"value"],rules:[{required:!0,message:"Missing value"}],children:Object(c.jsx)(v.a,{})})),Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Is True",name:[e.name,"isTrue"],fieldKey:[e.fieldKey,"isTrue"],children:Object(c.jsx)(N.a.Group,{children:Object(c.jsx)(N.a,{value:!0,children:"Yes"})})})),Object(c.jsx)(K.a,{onClick:function(){return a(e.name)}})]},e.key)})),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(c.jsx)(pt.a,{}),children:"Add answers"})})]})}}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Create"})})]})})})}),[O,d,j.data])]})})},yt=ne.a.Option,wt=function(){var e=Object(o.h)().questionId,t=S({}),n=t.get,s=t.patch,r=t.loading,i=t.response,j=void 0===i?{}:i,d=Object(o.g)(),b=x.a.useForm(),O=Object(u.a)(b,1)[0],h=Object(a.useState)([]),g=Object(u.a)(h,2),y=g[0],k=g[1],C=Object(a.useCallback)(function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("/questions/".concat(e),n);case 2:t.sent._id&&(Y.a.success({message:"Update question successfully",placement:"topRight"}),d.replace("/admin/questions"));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[d,e,s]),q=Object(a.useCallback)((function(e){var t=O.getFieldValue("answers").map((function(t,n){return n===e.key?t:Object(l.a)(Object(l.a)({},t),{},{isTrue:!1})}));O.setFieldsValue({answers:t})}),[O]);return Object(a.useEffect)((function(){(function(){var t=Object(p.a)(m.a.mark((function t(){var c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n("/courses");case 2:if(c=t.sent,k(c.data),!e){t.next=9;break}return t.next=7,n("/questions/".concat(e));case 7:a=t.sent,O.setFieldsValue({title:a.title,course:a.course,answers:a.answers});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,O,n]),Object(c.jsx)(f.a,{spinning:r,children:Object(c.jsxs)(ft,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"Edit question"})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(ce.a,{children:Object(c.jsx)(ae.a,{span:10,offset:7,children:Object(c.jsxs)(x.a,{layout:"vertical",form:O,onFinish:C,children:[j.code&&Object(c.jsx)("p",{children:"Question not found"}),j._id&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a.Item,{label:"Title",name:"title",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(v.a,{autoFocus:!0})}),Object(c.jsx)(x.a.Item,{name:"course",label:"Course",tooltip:{title:"This is a required field",icon:Object(c.jsx)(se.a,{})},rules:[{required:!0,message:"This field is required"}],children:Object(c.jsx)(ne.a,{placeholder:"Select a course",allowClear:!0,children:y.map((function(e){return Object(c.jsx)(yt,{value:e._id,children:e.name},e._id)}))})}),Object(c.jsx)(x.a.List,{name:"answers",children:function(e,t){var n=t.add,a=t.remove;return Object(c.jsxs)(c.Fragment,{children:[e.map((function(e){return Object(c.jsxs)(mt.b,{align:"baseline",children:[Object(c.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.answers!==t.answers},children:function(){return Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Content",name:[e.name,"content"],fieldKey:[e.fieldKey,"content"],rules:[{required:!0,message:"Missing content"}],children:Object(c.jsx)(v.a,{placeholder:"For Ex: A. or 1."})}))}}),Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Value",name:[e.name,"value"],fieldKey:[e.fieldKey,"value"],rules:[{required:!0,message:"Missing value"}],children:Object(c.jsx)(v.a,{})})),Object(c.jsx)(x.a.Item,Object(l.a)(Object(l.a)({},e),{},{label:"Is True",name:[e.name,"isTrue"],fieldKey:[e.fieldKey,"isTrue"],children:Object(c.jsx)(N.a.Group,{onChange:function(){return q(e)},children:Object(c.jsx)(N.a,{value:!0,children:"Yes"})})})),Object(c.jsx)(K.a,{onClick:function(){return a(e.name)}})]},e.key)})),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(c.jsx)(pt.a,{}),children:"Add answers"})})]})}}),Object(c.jsx)(x.a.Item,{children:Object(c.jsx)(w.a,{type:"primary",htmlType:"submit",children:"Update"})})]})]})})})}),[y,O,q,C,j._id,j.code])]})})},kt=n(442);function It(){var e=Object(q.a)(["\n  table {\n    th,\n    td {\n      text-align: center;\n    }\n\n    .content-column {\n      max-width: 460px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n      margin-bottom: 0;\n    }\n  }\n"]);return It=function(){return e},e}var Ct=T.a.div(It()),St=[{title:"User",dataIndex:"user",key:"user",render:function(e,t){return t.user.username}},{title:"Course",dataIndex:"course",key:"course",render:function(e,t){return t.course.name}},{title:"Rate",dataIndex:"rate",key:"rate",render:function(e,t){return Object(c.jsx)(kt.a,{disabled:!0,allowHalf:!0,value:t.rate})}},{title:"Content",dataIndex:"content",key:"content",width:"50%",render:function(e,t){return Object(c.jsx)("p",{className:"content-column",children:t.content})}}],qt=function(){var e=S({}),t=e.get,n=e.post,s=e.loading,r=e.response,i=void 0===r?{data:[],total:0}:r,o=Object(a.useState)(1),j=Object(u.a)(o,2),d=j[0],b=j[1],O=Object(a.useState)(""),h=Object(u.a)(O,2),x=h[0],f=h[1],g=Object(a.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1];Object(a.useEffect)((function(){var e="limit=".concat(10*d,"&skip=").concat(10*d-10),n=x?"&search=".concat(x):"";t("/reviews?".concat(e).concat(n))}),[t,d,x]);var k=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/remove_reviews",{selectedIds:y});case 2:Y.a.success({message:"Delete review successfully",placement:"topRight"}),w([]),b(1);case 5:case"end":return e.stop()}}),e)}))),[n,y]);return Object(c.jsxs)(Ct,{children:[Object(a.useMemo)((function(){return Object(c.jsx)(I,{title:"List review",onBack:null})}),[]),Object(a.useMemo)((function(){return Object(c.jsx)(X,{selectedIds:y,onDelete:null,searchPlaceHolder:"Search review by content",onSearch:function(e){return f(e)},customButtonArea:Object(c.jsx)("div",{className:"button-area",children:Object(c.jsx)(z,{disabled:!y.length,onClick:k})})})}),[k,y]),Object(a.useMemo)((function(){return Object(c.jsx)(V.a,{rowSelection:{type:"checkbox",onChange:function(e){return w(e)},selectedRowKeys:y},columns:St,dataSource:i.code?[]:i.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{key:e._id})})),pagination:{onChange:function(e){return b(e)},pageSize:10,total:i.total,current:d},loading:s})}),[s,d,i.code,i.data,i.total,y])]})},Tt=n(444),Mt=n(438);function Ft(){var e=Object(q.a)(["\n  .ant-row {\n    margin-bottom: 16px;\n  }\n"]);return Ft=function(){return e},e}var _t=T.a.div(Ft()),Nt=function(){var e=S({}),t=e.get,n=e.loading,s=e.response,r=void 0===s?{}:s;return Object(a.useEffect)((function(){t("/admin-homes")}),[t]),Object(c.jsx)(f.a,{spinning:n,children:Object(c.jsxs)(_t,{children:[Object(c.jsxs)(ce.a,{gutter:16,children:[Object(c.jsx)(ae.a,{span:12,children:Object(c.jsx)(Tt.a,{children:Object(c.jsx)(Mt.a,{title:"Total request",value:r.totalRequest,valueStyle:{color:"#3f8600"}})})}),Object(c.jsx)(ae.a,{span:12,children:Object(c.jsx)(Tt.a,{children:Object(c.jsx)(Mt.a,{title:"Total course",value:r.totalCourse,valueStyle:{color:"#3f8600"}})})})]}),Object(c.jsxs)(ce.a,{gutter:16,children:[Object(c.jsx)(ae.a,{span:12,children:Object(c.jsx)(Tt.a,{children:Object(c.jsx)(Mt.a,{title:"Total user",value:r.totalUser,valueStyle:{color:"#3f8600"}})})}),Object(c.jsx)(ae.a,{span:12,children:Object(c.jsx)(Tt.a,{children:Object(c.jsx)(Mt.a,{title:"Total category",value:r.totalCategory,valueStyle:{color:"#3f8600"}})})})]}),Object(c.jsx)(ce.a,{gutter:16,children:Object(c.jsx)(ae.a,{span:12,children:Object(c.jsx)(Tt.a,{children:Object(c.jsx)(Mt.a,{title:"Total review",value:r.totalReview,valueStyle:{color:"#3f8600"}})})})})]})})},Pt=n(432),Rt=n(144),Ut=n(74),Dt=n(231),At=n(463),Et=n(464),Yt=n(458),Vt=n(455),Lt=n(456),Bt=n(457),Kt=n(459),zt=n(460),Ht=n(461),Gt=n(462),Jt=function(){return Object(c.jsxs)(Ut.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[],children:[Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Vt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/categories",children:"Categories"})},"category"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Lt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/requests",children:"Requests"})},"request"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Bt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/courses",children:"Courses"})},"course"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Yt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/users",children:"Users"})},"user"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Kt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/lessons",children:"Lessons"})},"lesson"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(zt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/exams",children:"Exams"})},"exam"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Ht.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/questions",children:"Questions"})},"question"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Gt.a,{}),children:Object(c.jsx)(i.b,{to:"/admin/reviews",children:"Reviews"})},"reviews")]})};function Qt(){var e=Object(q.a)(["\n  min-height: 100vh;\n\n  .ant-layout {\n    min-height: 100vh;\n  }\n\n  .ant-layout-sider-collapsed {\n    .logo {\n      font-size: 12px !important;\n    }\n  }\n\n  .ant-layout-header {\n    height: 60px;\n  }\n\n  .logo {\n    min-height: 32px;\n    margin: 16px;\n    color: #fff;\n    font-size: 23px;\n    text-align: center;\n  }\n\n  .site-layout .site-layout-background {\n    background: #fff;\n  }\n\n  header.site-layout-background {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding: 0 24px 0 0;\n  }\n\n  main.site-layout-background {\n    margin: 16px 16px;\n    /* padding: 24px; */\n  }\n"]);return Qt=function(){return e},e}var Wt=T.a.div(Qt()),Xt=Pt.a.Header,Zt=Pt.a.Content,$t=Pt.a.Sider,en=function(e){var t=e.children,n=Object(a.useContext)(O).dispatch,s=Object(a.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1];return Object(c.jsx)(Wt,{children:Object(c.jsxs)(Pt.a,{children:[Object(c.jsxs)($t,{collapsible:!0,collapsed:o,onCollapse:function(){l(!o)},children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)(i.b,{to:"/admin",children:"NKH"})}),Object(c.jsx)(Jt,{})]}),Object(c.jsxs)(Pt.a,{className:"site-layout",children:[Object(c.jsx)(Xt,{className:"site-layout-background",children:Object(c.jsx)("div",{className:"user-info",children:Object(c.jsx)(Rt.a,{overlay:Object(c.jsxs)(Ut.a,{children:[Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(At.a,{}),children:"User profile"},"user-profile"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Et.a,{}),onClick:function(){return n({type:"logout"})},children:"Logout"},"logout")]}),children:Object(c.jsx)(Dt.a,{size:"large",icon:Object(c.jsx)(Yt.a,{})})})})}),Object(c.jsx)(Zt,{className:"site-layout-background",children:t})]})]})})};var tn=function(){return Object(c.jsx)(o.d,{children:Object(c.jsxs)(en,{children:[Object(c.jsx)(E,{exact:!0,path:"/admin",component:Nt}),Object(c.jsx)(E,{exact:!0,path:"/admin/requests",component:ze}),Object(c.jsx)(E,{exact:!0,path:"/admin/categories",component:it}),Object(c.jsx)(E,{exact:!0,path:"/admin/categories/new",component:lt}),Object(c.jsx)(E,{exact:!0,path:"/admin/categories/:categoryId/edit",component:jt}),Object(c.jsx)(E,{exact:!0,path:"/admin/lessons",component:Me}),Object(c.jsx)(E,{exact:!0,path:"/admin/lessons/new",component:Ue}),Object(c.jsx)(E,{exact:!0,path:"/admin/lessons/:lessonId/edit",component:Ae}),Object(c.jsx)(E,{exact:!0,path:"/admin/courses",component:te}),Object(c.jsx)(E,{exact:!0,path:"/admin/courses/new",component:le}),Object(c.jsx)(E,{exact:!0,path:"/admin/courses/:categoryId/edit",component:be}),Object(c.jsx)(E,{exact:!0,path:"/admin/questions",component:ht}),Object(c.jsx)(E,{exact:!0,path:"/admin/questions/new",component:vt}),Object(c.jsx)(E,{exact:!0,path:"/admin/questions/:questionId/edit",component:wt}),Object(c.jsx)(E,{exact:!0,path:"/admin/exams",component:pe}),Object(c.jsx)(E,{exact:!0,path:"/admin/exams/new",component:ke}),Object(c.jsx)(E,{exact:!0,path:"/admin/exams/:examId/edit",component:Ce}),Object(c.jsx)(E,{exact:!0,path:"/admin/reviews",component:qt}),Object(c.jsx)(E,{exact:!0,path:"/admin/users",component:Qe}),Object(c.jsx)(E,{exact:!0,path:"/admin/users/new",component:$e}),Object(c.jsx)(E,{exact:!0,path:"/admin/users/:userId/edit",component:ct})]})})},nn=function(e){var t=e.component,n=Object(A.a)(e,["component"]),s=Object(a.useContext)(O),r=s.isAuth,i=s.user;return Object(c.jsx)(o.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return r?Object(c.jsx)(o.a,{to:{pathname:0===i.role?"/admin":"/"}}):Object(c.jsx)(t,Object(l.a)({},e))}}))},cn=n(465),an=n(466);function sn(){var e=Object(q.a)(["\n  .site-layout-background {\n    background-color: #fff;\n  }\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .logo {\n      font-size: 30px;\n      color: #fff;\n      margin-right: 32px;\n    }\n\n    .ant-input-search {\n      margin-right: 32px;\n      height: 35px;\n      width: 70%;\n\n      .ant-input-affix-wrapper,\n      .ant-input-group-addon {\n        padding: 0;\n      }\n\n      input {\n        height: 35px;\n        padding-left: 11px;\n      }\n\n      .ant-btn {\n        height: 37px;\n      }\n    }\n\n    .signin-button {\n      margin-right: 16px;\n      color: #fff;\n    }\n  }\n"]);return sn=function(){return e},e}var rn=T.a.div(sn()),on=Pt.a.Header,un=Pt.a.Content,ln=Pt.a.Footer,jn=v.a.Search,dn=function(e){var t=e.children,n=Object(a.useContext)(O),s=n.dispatch,r=n.isAuth,o=Object(a.useMemo)((function(){return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)("div",{className:"user-info",children:Object(c.jsx)(Rt.a,{overlay:Object(c.jsxs)(Ut.a,{children:[Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(At.a,{}),children:"User profile"},"user-profile"),Object(c.jsx)(Ut.a.Item,{icon:Object(c.jsx)(Et.a,{}),onClick:function(){return s({type:"logout"})},children:"Logout"},"logout")]}),children:Object(c.jsx)(Dt.a,{size:"large",icon:Object(c.jsx)(Yt.a,{})})})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(i.b,{to:"/sign_in",children:Object(c.jsx)(w.a,{icon:Object(c.jsx)(cn.a,{}),type:"ghost",className:"signin-button",children:"Sign In"})}),Object(c.jsx)(i.b,{to:"/sign_up",children:Object(c.jsx)(w.a,{type:"primary",icon:Object(c.jsx)(an.a,{}),className:"signup-button",children:"Sign Up"})})]})})}),[s,r]);return Object(c.jsx)(rn,{children:Object(c.jsxs)(Pt.a,{children:[Object(c.jsxs)(on,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(c.jsx)("div",{className:"logo",children:"NKH"}),Object(c.jsx)(jn,{placeholder:"Search course here...",onSearch:function(e){return console.log(e)},enterButton:!0,allowClear:!0}),o]}),Object(c.jsx)(un,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:Object(c.jsx)("div",{className:"site-layout-background",style:{minHeight:"calc(100vh - 134px)"},children:t})}),Object(c.jsx)(ln,{style:{textAlign:"center"},children:"Course Sale Online @2020 Created by NKH"})]})})},bn=n(171),On=n(433),hn=n(467),mn=n(468);function pn(){var e=Object(q.a)(["\n  padding: 0 16px;\n\n  .category-content {\n    width: 100%;\n\n    .slick-slide {\n      padding: 16px;\n      max-height: 400px;\n      min-height: 400px;\n\n      .course-item {\n        max-height: 384px;\n        min-height: 384px;\n\n        .ant-card-body {\n          white-space: pre-wrap;\n          overflow-y: auto;\n          max-height: calc(400px - 48px - 58px);\n          min-height: calc(400px - 48px - 58px);\n        }\n      }\n    }\n\n    .prev-button-slider,\n    .right-button-slider {\n      position: absolute;\n      top: 53%;\n      z-index: 1;\n    }\n\n    .prev-button-slider {\n      left: -8px;\n    }\n\n    .right-button-slider {\n      right: -8px;\n    }\n  }\n"]);return pn=function(){return e},e}var xn=T.a.div(pn()),fn=bn.a.TabPane,gn={dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:1,lazyLoad:!0},vn=function(){var e=S({}),t=e.get,n=e.loading,s=e.response,r=void 0===s?{categories:[],courses:[]}:s,i=Object(a.useRef)(null),o=Object(a.useState)(""),j=Object(u.a)(o,2),d=j[0],b=j[1];return Object(a.useEffect)((function(){var e=d?"categoryId=".concat(d):"";t("/user-homes?".concat(e))}),[t,d]),console.log(r.courses),Object(c.jsx)(xn,{children:Object(c.jsx)(f.a,{style:{maxHeight:"100vh",minHeight:"100vh"},spinning:n,children:Object(c.jsx)(bn.a,{className:"category-content",onChange:function(e){return b(e)},children:r.code?null:r.categories.map((function(e){return Object(c.jsxs)(fn,{tab:e.name,children:[!r.courses.length&&Object(c.jsx)("p",{children:"Have no course in this category"}),!!r.courses.length&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w.a,{onClick:function(){return i.current&&i.current.prev()},shape:"circle",className:"prev-button-slider",size:"large",icon:Object(c.jsx)(hn.a,{})}),Object(c.jsx)(On.a,Object(l.a)(Object(l.a)({},gn),{},{ref:i,children:r.courses.map((function(e){return Object(c.jsx)(Tt.a,{className:"course-item",hoverable:!0,title:e.name,children:e.description},e._id)}))})),Object(c.jsx)(w.a,{onClick:function(){return i.current&&i.current.next()},shape:"circle",size:"large",className:"right-button-slider",icon:Object(c.jsx)(mn.a,{})})]})]},e._id)}))})})})};var yn=function(){return Object(c.jsx)(o.d,{children:Object(c.jsx)(dn,{children:Object(c.jsx)(o.b,{exact:!0,path:"/",component:vn})})})};var wn=function(){return Object(c.jsx)(b,{children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(nn,{exact:!0,path:"/sign_in",component:_}),Object(c.jsx)(nn,{exact:!0,path:"/sign_up",component:D}),Object(c.jsx)(o.b,{exact:!0,path:"/",children:Object(c.jsx)(yn,{})}),Object(c.jsx)(o.b,{path:"/admin",children:Object(c.jsx)(tn,{})})]})})})},kn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,469)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(428),n(429);r.a.render(Object(c.jsx)(wn,{}),document.getElementById("root")),kn()}},[[430,1,2]]]);
//# sourceMappingURL=main.debac039.chunk.js.map